<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhishGuard</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>PhishGuard</h1>
            <div id="status-badge" class="badge safe">SAFE</div>
        </header>

        <main>
            <div class="scan-info">
                <p><strong>Domain:</strong> <span id="current-url">Loading...</span></p>
                <div class="score-display">
                    <strong>Risk Score:</strong> 
                    <span id="security-score" class="score-value">--</span><span class="score-unit">/100</span>
                </div>
            </div>

            <div class="reasons-container">
                <h3>Detection Analysis</h3>
                <ul id="reasons-list">
                    <li>No active scan results.</li>
                </ul>
            </div>

            <div class="actions">
                <button id="btn-scan" class="primary-btn">Scan Now</button>
                <button id="btn-export" class="secondary-btn">Export Reports (JSON)</button>
                <button id="btn-dashboard" class="secondary-btn">Open Dashboard</button>
            </div>

            <div class="disclaimer">
                <small>Demo Mode: WHOIS and PhishTank checks are simulated.</small>
            </div>
        </main>
    </div>

    <!-- Load unified schemas and utils first -->
    <script src="../schemas/report.js"></script>
    <script src="../utils/browser-api.js"></script>
    <script src="../utils/risk-scorer.js"></script>
    <!-- Then load popup logic -->
    <script src="popup.js"></script>
</body>
</html>
